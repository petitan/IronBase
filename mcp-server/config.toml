# MCP DOCJL Server Configuration

# Server settings
host = "127.0.0.1"
port = 8080

# Storage paths
ironbase_path = "./docjl_storage.mlite"
audit_log_path = "./audit.log"

# Security
require_auth = false  # Set to true for production

# API Keys (examples)
[[api_keys]]
key = "dev_key_12345"
name = "Development Key"
allowed_commands = [
    "mcp_docjl_create_document",
    "mcp_docjl_list_documents",
    "mcp_docjl_get_document",
    "mcp_docjl_list_headings",
    "mcp_docjl_search_blocks",
    "mcp_docjl_search_content",
    "mcp_docjl_insert_block",
    "mcp_docjl_update_block",
    "mcp_docjl_delete_block",
    "mcp_docjl_validate_references",
    "mcp_docjl_validate_schema",
    "mcp_docjl_get_audit_log",
    "mcp_docjl_get_section",
    "mcp_docjl_estimate_tokens"
]
allowed_documents = ["*"]           # Wildcard: allow all documents

[api_keys.rate_limit]
requests_per_minute = 100
writes_per_minute = 10

[[api_keys]]
key = "readonly_key_67890"
name = "Read-Only Key"
allowed_commands = [
    "mcp_docjl_list_documents",
    "mcp_docjl_get_document",
    "mcp_docjl_list_headings",
    "mcp_docjl_search_blocks",
    "mcp_docjl_search_content",
    "mcp_docjl_validate_references",
    "mcp_docjl_validate_schema",
    "mcp_docjl_get_audit_log",
    "mcp_docjl_get_section",
    "mcp_docjl_estimate_tokens"
]
allowed_documents = ["doc_*"]  # Only documents starting with "doc_"

[api_keys.rate_limit]
requests_per_minute = 60
writes_per_minute = 0  # No writes allowed
